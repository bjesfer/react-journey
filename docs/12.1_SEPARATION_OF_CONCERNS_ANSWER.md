# Separation of Concerns - Answer Key & Step-by-Step Guide

This is the complete answer key for the **Separation of Concerns** activity. Follow this guide step-by-step to refactor the `04-pizza-menu` project into a well-organized, production-ready structure.

---

## ðŸ“‹ Overview

**Starting Point:** All code in `src/index.js`

**End Goal:** Organized structure with separated components and data

**Final Structure:**
```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ App.js
â”‚   â”œâ”€â”€ Header.js
â”‚   â”œâ”€â”€ Menu.js
â”‚   â”œâ”€â”€ Pizza.js
â”‚   â”œâ”€â”€ Footer.js
â”‚   â””â”€â”€ Order.js
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ pizzaData.js
â”‚   â””â”€â”€ constants.js
â”œâ”€â”€ index.js
â””â”€â”€ index.css
```

---

## ðŸš€ Step-by-Step Solution

### Step 1: Create Folder Structure

**Action:** Create two new folders in `src/`

```bash
# In your terminal, navigate to 04-pizza-menu/src
mkdir components
mkdir data
```

**Or manually:**
- Right-click in `src/` folder
- Create new folder: `components`
- Create new folder: `data`

**Result:**
```
src/
â”œâ”€â”€ components/    # New
â”œâ”€â”€ data/          # New
â”œâ”€â”€ index.js
â””â”€â”€ index.css
```

---

### Step 2: Create pizzaData.js

**File:** `src/data/pizzaData.js`

**Content:**
```javascript
export const pizzaData = [
  {
    name: "Focaccia",
    ingredients: "Bread with italian olive oil and rosemary",
    price: 6,
    photoName: "pizzas/focaccia.jpg",
    soldOut: false,
  },
  {
    name: "Pizza Margherita",
    ingredients: "Tomato and mozarella",
    price: 10,
    photoName: "pizzas/margherita.jpg",
    soldOut: false,
  },
  {
    name: "Pizza Spinaci",
    ingredients: "Tomato, mozarella, spinach, and ricotta cheese",
    price: 12,
    photoName: "pizzas/spinaci.jpg",
    soldOut: false,
  },
  {
    name: "Pizza Funghi",
    ingredients: "Tomato, mozarella, mushrooms, and onion",
    price: 12,
    photoName: "pizzas/funghi.jpg",
    soldOut: false,
  },
  {
    name: "Pizza Salamino",
    ingredients: "Tomato, mozarella, and pepperoni",
    price: 15,
    photoName: "pizzas/salamino.jpg",
    soldOut: true,
  },
  {
    name: "Pizza Prosciutto",
    ingredients: "Tomato, mozarella, ham, aragula, and burrata cheese",
    price: 18,
    photoName: "pizzas/prosciutto.jpg",
    soldOut: false,
  },
];
```

**Key Points:**
- âœ… Named export: `export const pizzaData = [...]`
- âœ… No React import needed (just data)
- âœ… Exact same data structure

---

### Step 3: Create constants.js

**File:** `src/data/constants.js`

**Content:**
```javascript
export const OPEN_HOUR = 10;
export const CLOSE_HOUR = 22;
```

**Key Points:**
- âœ… Named exports for constants
- âœ… Uppercase naming convention (constants)
- âœ… Easy to update in one place

---

### Step 4: Create Header.js

**File:** `src/components/Header.js`

**Content:**
```javascript
import React from "react";

const Header = () => {
  return (
    <header className="header">
      <h1>Fast React Pizza Co.</h1>
    </header>
  );
};

export default Header;
```

**Key Points:**
- âœ… Import React (required for JSX)
- âœ… Default export for component
- âœ… Removed unused `style` variable
- âœ… Clean, simple component

---

### Step 5: Create Pizza.js

**File:** `src/components/Pizza.js`

**Content:**
```javascript
import React from "react";

const Pizza = (props) => {
  const { name, ingredients, photoName, price, soldOut } = props.pizzaObj;

  return (
    <div className="pizza">
      <img src={photoName} alt={name} />
      <h3>{name}</h3>
      <p>{ingredients}</p>
      <span>{soldOut ? "SOLD OUT" : price}</span>
    </div>
  );
};

export default Pizza;
```

**Key Points:**
- âœ… Import React
- âœ… Default export
- âœ… Same functionality as before
- âœ… Receives props and destructures

---

### Step 6: Create Order.js

**File:** `src/components/Order.js`

**Content:**
```javascript
import React from "react";

function Order({ closeHour, openHour }) {
  return (
    <div className="order">
      <p>
        We're open from {openHour}:00 to {closeHour}:00. Come visit us or order
        online.
      </p>
      <button className="btn">Order</button>
    </div>
  );
}

export default Order;
```

**Key Points:**
- âœ… Import React
- âœ… Default export
- âœ… Function component with destructured props
- âœ… Same functionality

---

### Step 7: Create Footer.js

**File:** `src/components/Footer.js`

**Content:**
```javascript
import React from "react";
import Order from "./Order";
import { OPEN_HOUR, CLOSE_HOUR } from "../data/constants";

const Footer = () => {
  const hour = new Date().getHours();
  const openHour = OPEN_HOUR;
  const closeHour = CLOSE_HOUR;
  const isOpen = hour >= openHour && hour <= closeHour;

  return (
    <footer className="footer">
      {isOpen ? (
        <Order closeHour={closeHour} openHour={openHour} />
      ) : (
        <p>
          We're happy to welcome you between {openHour}:00 and {closeHour}:00.
        </p>
      )}
    </footer>
  );
};

export default Footer;
```

**Key Points:**
- âœ… Import React
- âœ… Import Order component (used inside Footer)
- âœ… Import constants from data folder
- âœ… Use imported constants instead of hardcoded values
- âœ… Removed `console.log(isOpen)` (cleanup)
- âœ… Default export

**Alternative (using constants directly):**
```javascript
import React from "react";
import Order from "./Order";
import { OPEN_HOUR, CLOSE_HOUR } from "../data/constants";

const Footer = () => {
  const hour = new Date().getHours();
  const isOpen = hour >= OPEN_HOUR && hour <= CLOSE_HOUR;

  return (
    <footer className="footer">
      {isOpen ? (
        <Order closeHour={CLOSE_HOUR} openHour={OPEN_HOUR} />
      ) : (
        <p>
          We're happy to welcome you between {OPEN_HOUR}:00 and {CLOSE_HOUR}:00.
        </p>
      )}
    </footer>
  );
};

export default Footer;
```

Both approaches work! Choose based on readability preference.

---

### Step 8: Create Menu.js

**File:** `src/components/Menu.js`

**Content:**
```javascript
import React from "react";
import Pizza from "./Pizza";
import { pizzaData } from "../data/pizzaData";

const Menu = () => {
  const pizzas = pizzaData;
  const numPizzas = pizzas.length;

  return (
    <main className="menu">
      <h2>Our menu</h2>

      {numPizzas > 0 ? (
        <>
          <p>
            Authentic Italian cuisine. 6 creative dishes to choose from. All
            from our stone oven, all organic, all delicious.
          </p>

          <ul className="pizzas">
            {pizzas.map((pizza) => (
              <Pizza pizzaObj={pizza} key={pizza.name} />
            ))}
          </ul>
        </>
      ) : (
        <p>We're still working on our menu. Please come back later :)</p>
      )}
    </main>
  );
};

export default Menu;
```

**Key Points:**
- âœ… Import React
- âœ… Import Pizza component (used in map)
- âœ… Import pizzaData from data folder
- âœ… Removed commented code (cleanup)
- âœ… Default export
- âœ… Same functionality

---

### Step 9: Create App.js

**File:** `src/components/App.js`

**Content:**
```javascript
import React from "react";
import Header from "./Header";
import Menu from "./Menu";
import Footer from "./Footer";

const App = () => {
  return (
    <div className="container">
      <Header />
      <Menu />
      <Footer />
    </div>
  );
};

export default App;
```

**Key Points:**
- âœ… Import React
- âœ… Import all child components (Header, Menu, Footer)
- âœ… Default export
- âœ… Same structure as before

---

### Step 10: Update index.js

**File:** `src/index.js`

**Final Content:**
```javascript
import React from "react";
import ReactDOM from "react-dom/client";
import "./index.css";
import App from "./components/App";

const root = ReactDOM.createRoot(document.getElementById("root"));

// React.StrictMode is a development-only tool that helps identify potential problems
// in your application. It does NOT render any visible UI, but it enables additional
// checks and warnings for:
// - Components with unsafe lifecycles
// - Legacy string ref API usage
// - Deprecated findDOMNode usage
// - Unexpected side effects
// - Legacy context API
//
// StrictMode intentionally double-invokes certain functions (like component constructors,
// render methods, and state updater functions) to help detect side effects. This only
// happens in development mode and does not affect production builds.
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
```

**Key Points:**
- âœ… Only imports what's needed
- âœ… Imports App component
- âœ… Only contains rendering logic
- âœ… Keeps React.StrictMode
- âœ… Clean and focused

**What was removed:**
- âŒ pizzaData array (moved to data/pizzaData.js)
- âŒ All component definitions (moved to components/)
- âŒ All business logic (moved to components)

---

## ðŸ“ Complete File Structure

After completing all steps, your structure should be:

```
04-pizza-menu/
â”œâ”€â”€ public/
â”‚   â””â”€â”€ pizzas/          # Pizza images
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ App.js       âœ… Created
â”‚   â”‚   â”œâ”€â”€ Header.js    âœ… Created
â”‚   â”‚   â”œâ”€â”€ Menu.js      âœ… Created
â”‚   â”‚   â”œâ”€â”€ Pizza.js     âœ… Created
â”‚   â”‚   â”œâ”€â”€ Footer.js    âœ… Created
â”‚   â”‚   â””â”€â”€ Order.js     âœ… Created
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”œâ”€â”€ pizzaData.js âœ… Created
â”‚   â”‚   â””â”€â”€ constants.js âœ… Created
â”‚   â”œâ”€â”€ index.js         âœ… Updated
â”‚   â””â”€â”€ index.css        (unchanged)
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

---

## ðŸ” Verification Checklist

### File Existence
- [ ] `src/components/App.js` exists
- [ ] `src/components/Header.js` exists
- [ ] `src/components/Menu.js` exists
- [ ] `src/components/Pizza.js` exists
- [ ] `src/components/Footer.js` exists
- [ ] `src/components/Order.js` exists
- [ ] `src/data/pizzaData.js` exists
- [ ] `src/data/constants.js` exists
- [ ] `src/index.js` is updated

### Imports/Exports
- [ ] All components have `import React from "react"`
- [ ] All components use `export default`
- [ ] Data files use named exports
- [ ] All imports use correct relative paths
- [ ] No circular dependencies

### Functionality
- [ ] App runs without errors: `npm start`
- [ ] Header displays correctly
- [ ] Menu shows all pizzas
- [ ] Footer shows correct hours
- [ ] Order button appears when open
- [ ] Sold out pizzas show "SOLD OUT"
- [ ] No console errors

---

## ðŸ§ª Testing

### 1. Start the Application

```bash
cd 04-pizza-menu
npm start
```

**Expected:** Application opens at http://localhost:3000

### 2. Check Browser Console

Open DevTools (F12) â†’ Console tab

**Expected:** No errors

### 3. Verify Functionality

- âœ… Header shows "Fast React Pizza Co."
- âœ… Menu shows 6 pizzas
- âœ… Footer shows hours or order button
- âœ… All images load correctly
- âœ… "SOLD OUT" appears for Pizza Salamino

### 4. Check File Structure

Verify all files exist in correct locations.

---

## ðŸ’¡ Explanation of Changes

### Why Separate Components?

**Before:**
- All code in one file
- Hard to find specific components
- Difficult to maintain
- Can't reuse components easily

**After:**
- Each component in its own file
- Easy to locate and modify
- Components can be imported anywhere
- Better organization

### Why Separate Data?

**Before:**
- Data mixed with components
- Hard to update data
- Can't reuse data easily

**After:**
- Data in dedicated files
- Easy to update
- Can import data anywhere
- Clear separation

### Why Constants File?

**Before:**
- Magic numbers in code (10, 22)
- Hard to understand what they mean
- Difficult to update

**After:**
- Named constants (OPEN_HOUR, CLOSE_HOUR)
- Self-documenting code
- Easy to update in one place

---

## ðŸŽ“ Key Learnings

### 1. Default vs Named Exports

**Default Export (Components):**
```javascript
// Export
const Header = () => { /* ... */ };
export default Header;

// Import
import Header from "./Header";
```

**Named Export (Data/Constants):**
```javascript
// Export
export const pizzaData = [...];
export const OPEN_HOUR = 10;

// Import
import { pizzaData } from "./pizzaData";
import { OPEN_HOUR, CLOSE_HOUR } from "./constants";
```

### 2. Import Paths

**Same folder:**
```javascript
import Header from "./Header";
```

**Parent folder:**
```javascript
import { pizzaData } from "../data/pizzaData";
```

**Multiple levels:**
```javascript
import { something } from "../../utils/helpers";
```

### 3. Component Dependencies

**Order of imports:**
1. React
2. Other components
3. Data/utilities
4. Styles

**Example:**
```javascript
import React from "react";                    // 1. React
import Header from "./Header";                 // 2. Components
import { pizzaData } from "../data/pizzaData"; // 3. Data
import "./styles.css";                         // 4. Styles
```

---

## ðŸš¨ Common Issues & Solutions

### Issue 1: "Cannot find module"

**Error:**
```
Cannot find module './Header' or its corresponding type declarations
```

**Solution:**
- Check file name matches import (case-sensitive!)
- Verify file exists in correct location
- Check relative path is correct

### Issue 2: "Attempted import error"

**Error:**
```
Attempted import error: 'Header' is not exported from './Header'
```

**Solution:**
- Verify component uses `export default`
- Check import doesn't use curly braces for default export

### Issue 3: "pizzaData is not defined"

**Error:**
```
ReferenceError: pizzaData is not defined
```

**Solution:**
- Import pizzaData in Menu.js
- Use named import: `import { pizzaData } from "../data/pizzaData"`

### Issue 4: "OPEN_HOUR is not defined"

**Error:**
```
ReferenceError: OPEN_HOUR is not defined
```

**Solution:**
- Import constants in Footer.js
- Use named import: `import { OPEN_HOUR, CLOSE_HOUR } from "../data/constants"`

---

## ðŸ“Š Before vs After Comparison

### Before (index.js - 194 lines)

```javascript
// Data, components, and rendering all mixed together
const pizzaData = [ /* ... */ ];

const App = () => { /* ... */ };
const Header = () => { /* ... */ };
// ... more components

root.render(/* ... */);
```

### After (Organized Structure)

**index.js (15 lines):**
```javascript
// Only rendering logic
import App from "./components/App";
root.render(<App />);
```

**Each component (5-20 lines):**
```javascript
// Focused, single responsibility
import React from "react";
const Header = () => { /* ... */ };
export default Header;
```

**Benefits:**
- âœ… Easier to read
- âœ… Easier to maintain
- âœ… Easier to test
- âœ… Easier to scale

---

## ðŸŽ¯ Best Practices Demonstrated

1. **One Component Per File**
   - Each component in its own file
   - Easy to find and modify

2. **Logical Folder Structure**
   - Components in `components/`
   - Data in `data/`
   - Clear organization

3. **Consistent Naming**
   - PascalCase for components
   - camelCase for data files
   - UPPERCASE for constants

4. **Proper Imports/Exports**
   - Default exports for components
   - Named exports for data
   - Clear import paths

5. **Separation of Concerns**
   - Data separate from components
   - Constants in dedicated file
   - Rendering logic separate

---

## ðŸš€ Next Steps

After completing this refactoring:

1. **Practice** - Try organizing other projects
2. **Experiment** - Create your own structure
3. **Learn More** - Study larger React projects
4. **Apply** - Use these patterns in your own projects

---

## ðŸ“š Additional Resources

### In This Repository

- **[Separation of Concerns Activity](12_SEPARATION_OF_CONCERNS.md)** - The activity instructions
- **[Components & Props Guide](11_WORKING_WITH_COMPONENTS_PROPS.md)** - Understanding components
- **[Essential JavaScript Guide](10_ESSENTIAL_JAVASCRIPT.md)** - JavaScript modules

### External Resources

- [React: Importing and Exporting Components](https://react.dev/learn/importing-and-exporting-components)
- [ES6 Modules](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules)
- [React File Structure Best Practices](https://reactjs.org/docs/faq-structure.html)

---

## âœ… Success Criteria

You've successfully completed the activity when:

- âœ… All components are in separate files
- âœ… Data is separated from components
- âœ… Constants are in their own file
- âœ… Application works exactly as before
- âœ… No console errors
- âœ… Code is clean and organized
- âœ… Follows React best practices

**Congratulations!** ðŸŽ‰ You've mastered separation of concerns in React!

---

_This answer key provides the complete solution. Use it to verify your work or as a reference when you get stuck. Understanding these patterns is essential for professional React development!_
